<!-- 
eg11 is refactored to make production quality code
it uses seperate Js files for individual service/controllers and uses IIFE mode to not use global scopes/namespace
IIFE is used to encapsulate variables inside function scopes.

var app = angular.module("refactoredContactApp"); 
=> note without []
=> this will get the already created module.It won't create module if doesn't exists

-->
<html ng-app="refactoredContactApp">

<head>
    <title>Contact APP</title>
    <!-- <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0-beta.2/css/bootstrap.min.css" integrity="sha384-PsH8R72JQ3SOdhVi3uxftmaW6Vc51MKb0q5P2rRUpPvrszuE4W1povHYgTpBfshb"
        crossorigin="anonymous"> -->
    <link rel="stylesheet" href="bootstrap.min.css">
    <!-- <script src="bootstrap.min.js"></script> -->
    <script src="angular.js"></script>
    <script src="eg12_refactoredcontactApp.js"></script>
    <script src="eg12_refactoredcontactApp.controller.js"></script>
    <script src="eg12_refactoredcontactAppHeader.controller.js"></script>
    <script src="eg12_refactoredcontactAppName.service.js"></script>
    <script src="eg12_refactoredcontactAppConfig.service.js"></script>
    <script src="eg12_refactoredcontactAppData.service.js"></script>
</head>

<body>
    <div ng-controller="HeaderCtlr as head">
            <h1>{{head.appTitle}}</h1>
    </div>
    
    <div class="container" ng-controller="ContactCtlr as ctlr">
        <div class="row">
            <ul class="list-group">
                <li class="list-group-item" ng-repeat="contact in ctlr.contacts" ng-click="ctlr.selectContact($index)">
                    {{contact.name.first + " " + contact.name.last}}
                </li>
            </ul>
        </div>
        <div class="row">
            <div class="media">
                <div class="media-left">
                    <a href="#">
                        <!-- <img class="media-object" src="..." alt="..."> -->
                        <img class="media-object" ng-src="{{ctlr.selectedContact.picture.medium}}" >
                    </a>
                </div>
                <div class="media-body">
                    <p>
                        <h4 class="media-heading">{{ctlr.selectedContact.name.first + " " + ctlr.selectedContact.name.last}}</h4>
                        
                        <h6 class="media-heading">Location: </h6>
                        {{ctlr.selectedContact.location.street + " " + ctlr.selectedContact.location.city}}
                        <h6 class="media-heading">Phone: </h6>
                        {{ctlr.selectedContact.cell}}
                    </p>
                </div>
            </div>

        </div>
    </div>    

</body>

</html>